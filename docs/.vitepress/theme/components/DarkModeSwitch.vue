<script setup lang="ts">
import { inject } from 'vue'
import { useData } from 'vitepress'

const { isDark } = useData()
const toggleAppearance = inject<(event: MouseEvent) => Promise<void>>('toggle-appearance')!

const handleClick = (event: MouseEvent) => {
  toggleAppearance(event)
}
</script>

<template>
  <div>
    <button
      class="VPSwitchAppearance custom-switch"
      type="button"
      role="switch"
      :aria-checked="isDark"
      @click="handleClick"
      title="åˆ‡æ¢ä¸»é¢˜"
    >
      <!-- åœ¨è¿™é‡Œæ”¾ç½®ä½ çš„è‡ªå®šä¹‰å›¾æ ‡æˆ–å†…å®¹ -->
      <span v-if="isDark">ğŸŒ™</span>
      <span v-else>â˜€ï¸</span>
    </button>
  </div>
</template>

<style scoped>
.custom-switch {
  /* æ·»åŠ ä½ è‡ªå®šä¹‰ç»„ä»¶çš„æ ·å¼ */
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--vp-c-divider);
  border-radius: 50%;
  background-color: var(--vp-c-bg-soft);
  cursor: pointer;
  transition:
    border-color 0.25s,
    background-color 0.25s;
}
.custom-switch:hover {
  border-color: var(--vp-c-brand);
}
.custom-switch span {
  font-size: 18px; /* å›¾æ ‡å¤§å° */
}
</style>
